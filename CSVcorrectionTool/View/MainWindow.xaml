<Window
    x:Class="CSVcorrectionTool.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:CSVcorrectionTool"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:view="clr-namespace:CSVcorrectionTool.View"
    xmlns:viewmodels="clr-namespace:CSVcorrectionTool.ViewModels"
    Title="CSV 보정 도구 08_11"
    Width="600"
    Height="450"
    d:DataContext="{d:DesignInstance Type=viewmodels:MainViewModel}"
    Background="White"
    mc:Ignorable="d">


    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="40" />
            <RowDefinition Height="*" />
            <RowDefinition Height="20" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="65" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="100" />
        </Grid.ColumnDefinitions>
        <Grid
            Grid.Row="1"
            Width="65"
            Height="NaN"
            Margin="0,0,0,0"
            Background="#FFEAEAEA">
            <Button
                Width="60"
                Height="30"
                Margin="0,0,0,304"
                HorizontalAlignment="Center"
                VerticalAlignment="Bottom"
                Command="{Binding OpenFileCommand}"
                Content="파일열기" />

            <Button
                Width="60"
                Height="30"
                Margin="0,80,0,0"
                HorizontalAlignment="Center"
                VerticalAlignment="Top"
                Command="{Binding SaveFileCommand}"
                Content="저장하기" />
            <Button
                Width="60"
                Height="30"
                Margin="0,120,0,0"
                HorizontalAlignment="Center"
                VerticalAlignment="Top"
                Command="{Binding ConvertCommand}"
                Content="보정하기" />
            <Button
                Width="60"
                Height="30"
                Margin="0,180,0,0"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Command="{Binding SettingCommand}"
                Content="설정" />

        </Grid>
        <Grid
            x:Name="view3D"
            Grid.Row="1"
            Grid.Column="1"
            Grid.ColumnSpan="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="139*" />
                <RowDefinition Height="48*" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="15*" />
                <ColumnDefinition Width="13*" />
            </Grid.ColumnDefinitions>
            <view:ViewPort3DView
                Grid.RowSpan="2"
                Grid.ColumnSpan="2"
                Points="{Binding Points}" />
        </Grid>
        <Grid
            Grid.Row="2"
            Grid.ColumnSpan="3"
            Background="#FF4C4C4C">
            <StatusBar
                Margin="0,0,30,0"
                HorizontalAlignment="Right"
                Background="#FF4C4C4C">
                <Label
                    x:Name="stateLabel"
                    Padding="0,0,0,0"
                    HorizontalAlignment="Center"
                    HorizontalContentAlignment="Right"
                    Content="{Binding StateText}"
                    FontSize="10" />
            </StatusBar>
        </Grid>

        <Grid
            x:Name="TopGrid"
            Grid.ColumnSpan="3"
            Background="#FF4C4C4C"
            Cursor="Hand">
            <Button
                Width="30"
                Height="30"
                Margin="10,0,0,0"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                Command="{Binding TestCheckCommand}"
                IsEnabled="{Binding DataContext.ControlsEnabled, RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                Style="{StaticResource MaterialDesignFloatingActionMiniLightButton}"
                ToolTip="MaterialDesignFloatingActionMiniLightButton">
                <materialDesign:PackIcon
                    Width="20"
                    Height="20"
                    Kind="Check" />
            </Button>
            <Button
                Width="30"
                Height="30"
                Margin="50,0,0,0"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                Command="{Binding TestCheckCommand}"
                IsEnabled="{Binding DataContext.ControlsEnabled, RelativeSource={RelativeSource AncestorType={x:Type Window}, Mode=FindAncestor}}"
                Style="{StaticResource MaterialDesignFloatingActionMiniLightButton}"
                ToolTip="MaterialDesignFloatingActionMiniLightButton">
                <materialDesign:PackIcon
                    Width="20"
                    Height="20"
                    Kind="Arrow" />
            </Button>

            <StatusBar Margin="150,0,0,0" Background="#FF4C4C4C">
                <Label
                    Padding="0,0,0,0"
                    HorizontalAlignment="Center"
                    HorizontalContentAlignment="Right"
                    Content="보정각도"
                    FontSize="10" />
                <TextBox
                    x:Name="xDegreeTextBox"
                    Width="110"
                    Height="30"
                    Margin="0,0,-3,0"
                    HorizontalContentAlignment="Left"
                    VerticalContentAlignment="Center"
                    Background="#FFFDFDFD"
                    BorderThickness="0,0,0,1"
                    FontSize="17"
                    FontWeight="Bold"
                    Text="{Binding XDegree, UpdateSourceTrigger=PropertyChanged}"
                    TextWrapping="Wrap" />
            </StatusBar>
            <Button
                Width="30"
                Height="30"
                Margin="90,0,0,0"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                Command="{Binding TestCheckCommand}"
                IsEnabled="{Binding DataContext.ControlsEnabled, RelativeSource={RelativeSource AncestorType={x:Type Window}, Mode=FindAncestor}}"
                Style="{StaticResource MaterialDesignFloatingActionMiniLightButton}"
                ToolTip="MaterialDesignFloatingActionMiniLightButton">
                <materialDesign:PackIcon
                    Width="20"
                    Height="20"
                    Kind="Alarm" />
            </Button>
            <Button
                Width="30"
                Height="30"
                Margin="0,0,20,0"
                HorizontalAlignment="Right"
                VerticalAlignment="Center"
                materialDesign:ButtonProgressAssist.IsIndeterminate="True"
                materialDesign:ButtonProgressAssist.IsIndicatorVisible="True"
                materialDesign:ButtonProgressAssist.Value="-1"
                Command="{Binding TestCheckCommand}"
                Content="{materialDesign:PackIcon DotsHorizontal}"
                IsEnabled="{Binding DataContext.ControlsEnabled, RelativeSource={RelativeSource AncestorType={x:Type Window}, Mode=FindAncestor}}"
                Style="{StaticResource MaterialDesignFloatingActionButton}" />
        </Grid>
    </Grid>
</Window>
